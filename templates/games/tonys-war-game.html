{% extends "layout.html" %}
{% block title %}War (Tony's Time Traps){% endblock %}

{% block head %}
  {{ super() }}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/gamesstyles.css') }}">
{% endblock %}

{% block content %}
<div class="game-container war-game">
    <header class="game-header">
        <h1>War</h1>
        <div class="game-controls">
            <button id="start-game" class="btn">Start Game</button>
            <button id="play-turn" class="btn" disabled>Play Turn</button>
            <button id="auto-play" class="btn" disabled>Auto Play</button>
        </div>
        <div class="game-speed-controls" style="text-align: center; margin-top: 10px;">
            <button id="speed-down-btn" class="btn btn-secondary" title="Slower (Increase Delay)">Slower</button>
            <span id="speed-display" style="font-weight: bold; margin: 0 15px;">Delay: 1.0x</span>
            <button id="speed-up-btn" class="btn btn-secondary" title="Faster (Decrease Delay)">Faster</button>
        </div>
        </header>

    <div id="game-message" class="game-message">Welcome to War! Click Start Game to begin.</div>

    <div class="game-board">
        <div class="player-area" id="player-2-area">
            <div class="player-info">
                <h2>Tony</h2>
                <div class="card-count" id="player-2-deck-count">Cards: 26</div>
                <div class="cards-left-stat" id="player-2-cards-left">Cards Left: 26</div>
                <div class="stats-container">
                    <div id="player-2-aces" class="stat-item">Aces: 0</div>
                    <div id="player-2-kings" class="stat-item">Kings: 0</div>
                    <div id="player-2-wars" class="stat-item">Wars Won: 0</div>
                    <div id="player-2-hands" class="stat-item">Hands Won: 0</div>
                    <div id="player-2-hands-pct" class="stat-item">Win %: 0%</div>
                </div>
            </div>
            <div class="deck-pile">
                <div class="card card-back" id="player-2-deck"></div>
            </div>
            <div class="play-pile-area">
                <div class="card-pile" id="player-2-play-pile"></div>
                <div class="war-pile" id="opponent-war-pile"></div>
            </div>
        </div>

        <div class="player-area" id="player-1-area">
            <div class="player-info">
                <h2>{{ player_username }}</h2>
                <div class="card-count" id="player-1-deck-count">Cards: 26</div>
                <div class="cards-left-stat" id="player-1-cards-left">Cards Left: 26</div>
                <div class="stats-container">
                    <div id="player-1-aces" class="stat-item">Aces: 0</div>
                    <div id="player-1-kings" class="stat-item">Kings: 0</div>
                    <div id="player-1-wars" class="stat-item">Wars Won: 0</div>
                    <div id="player-1-hands" class="stat-item">Hands Won: 0</div>
                    <div id="player-1-hands-pct" class="stat-item">Win %: 0%</div>
                </div>
            </div>
            <div class="deck-pile">
                <div class="card card-back" id="player-1-deck"></div>
            </div>
            <div class="play-pile-area">
                <div class="card-pile" id="player-1-play-pile"></div>
                <div class="war-pile" id="player-war-pile"></div>
            </div>
        </div>
    </div>
</div>

<script src="{{ url_for('static', filename='js/games/war.js') }}"></script>
{% endblock %}
