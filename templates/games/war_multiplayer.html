{% extends 'layout.html' %}

{% block title %}War (2-Player){% endblock %}

{% block content %}
<div id="war-game-board" class="game-container war-game" data-room-code="{{ room_code }}">
    <div class="game-header">
        <h1>War (2-Player)</h1>
        <p>Game Code: <strong>{{ room_code }}</strong></p>
    </div>

    <div id="game-message-multi" class="game-message">
        Connecting to game...
    </div>

    <div class="game-controls">
        <button id="speed-down-btn" class="btn btn-secondary" title="Slower (Increase Delay)">üê¢ Slower</button>
        <span id="speed-display" style="font-weight: bold; margin: 0 15px;">Delay: 1.0s</span>
        <button id="speed-up-btn" class="btn btn-secondary" title="Faster (Decrease Delay)">üêá Faster</button>
    </div>

    <div class="game-start-controls" style="text-align: center; margin-top: 20px;">
        <button id="start-game-btn" class="btn btn-primary btn-lg" style="display: none;">
            Start Game
        </button>
    </div>

    <div class="game-board">
        <div id="player-0-area" class="player-area">
            <div class="player-info">
                <h2 id="player-0-name">Player 1 (You)</h2>
                <div class="card-count" id="player-0-count">Cards: 26</div>
                
                <div class="cards-left-stat" id="player-0-recycle">Cards Left: 26</div> 
                <div class="stats-container">
                    <div id="player-0-aces" class="stat-item">Aces: 0</div>
                    <div id="player-0-kings" class="stat-item">Kings: 0</div>
                    <div id="player-0-wars-won" class="stat-item">Wars Won: 0</div>
                    <div id="player-0-hands-won" class="stat-item">Hands: 0</div>
                    <div id="player-0-win-pct" class="stat-item">Win %: 0%</div>
                </div>
            </div>
            <div class="deck-pile">
                <div class="card-pile">
                    <div class="card card-back"></div>
                </div>
            </div>
            <div class="play-pile-area">
                <div id="player-0-play-pile" class="card-pile">
                    </div>
                <div id="player-0-war-pile" class="war-pile">
                    </div>
            </div>
        </div>

        <div id="player-1-area" class="player-area">
             <div class="player-info">
                <h2 id="player-1-name">Player 2 (Opponent)</h2>
                <div class="card-count" id="player-1-count">Cards: 26</div>
                
                <div class="cards-left-stat" id="player-1-recycle">Cards Left: 26</div>
                <div class="stats-container">
                    <div id="player-1-aces" class="stat-item">Aces: 0</div>
                    <div id="player-1-kings" class="stat-item">Kings: 0</div>
                    <div id="player-1-wars-won" class="stat-item">Wars Won: 0</div>
                    <div id="player-1-hands-won" class="stat-item">Hands: 0</div>
                    <div id="player-1-win-pct" class="stat-item">Win %: 0%</div>
                </div>
            </div>
            <div class="deck-pile">
                <div class="card-pile">
                    <div class="card card-back"></div>
                </div>
            </div>
            <div class="play-pile-area">
                <div id="player-1-play-pile" class="card-pile">
                    </div>
                <div id="player-1-war-pile" class="war-pile">
                    </div>
            </div>
        </div>
    </div>

    <div class="play-pile-area">
        <div id="war-pile-container" class="war-pile">
            </div>
    </div>

</div>

<script src="[https://cdn.socket.io/4.7.5/socket.io.min.js](https://cdn.socket.io/4.7.5/socket.io.min.js)"></script>
<script src="{{ url_for('static', filename='js/games/war2.js') }}"></script>
{% endblock %}
